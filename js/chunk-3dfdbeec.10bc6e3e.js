(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dfdbeec"],{"043a":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"movie-detail animated fadeIn"},[e("div",{staticClass:"m-bg",style:{"background-image":"linear-gradient(to bottom, rgba(245,245,245, 0), rgba(245,245,245, .85) 50%, rgba(245,245,245, 1) 60%),url("+t.movieDetailData.image+")"}}),e("div",[e("van-nav-bar",{attrs:{title:"电影详情","left-text":"返回","left-arrow":"",fixed:""},on:{"click-left":t.back}})],1),e("div",{staticClass:"movie-detail-info"},[e("div",{staticClass:"movie-detail-box"},[e("div",{staticClass:"movie-detail-t"},[e("div",{staticClass:"movie-detail-img fl"},[e("div",{staticClass:"m-img"},[e("img",{staticClass:"auto-img",attrs:{src:t.movieDetailData.image,alt:""}}),e("van-icon",{attrs:{name:"play-circle-o",size:"30px",color:"#fff"},on:{click:function(a){return t.viewVideoDetail({name:"videoDetail",params:{id:t.movieDetailData.id}})}}})],1)]),e("div",{staticClass:"movie-detail-msg fl"},[e("div",{staticClass:"clearfix"},[e("span",{staticClass:"fl m-title"},[t._v(t._s(t.movieDetailData.titleCn))]),e("span",{staticClass:"fr collection",class:{active:t.likeActive},on:{click:function(a){return t.likeMovie(t.movieDetailData)}}},[e("van-icon",{staticClass:"like-icon",attrs:{name:"like"}})],1)]),e("div",{staticClass:"m-type"},[t._v(t._s(t.movieDetailData.typeInfo))]),e("div",{staticClass:"clearfix m-info"},[e("div",{staticClass:"fl"},[t._v(t._s(t.movieDetailData.release.date))]),e("div",{staticClass:"fl"},[t._v(t._s(t.movieDetailData.release.location))]),e("div",{staticClass:"fl"},[t._v(t._s(t.movieDetailData.runTime))])]),e("div",{staticClass:"star-box clearfix"},[e("div",{ref:"notstar",staticClass:"not-star fl"},[e("span",[e("van-icon",{attrs:{name:"star-o"}})],1),e("span",[e("van-icon",{attrs:{name:"star-o"}})],1),e("span",[e("van-icon",{attrs:{name:"star-o"}})],1),e("span",[e("van-icon",{attrs:{name:"star-o"}})],1),e("span",[e("van-icon",{attrs:{name:"star-o"}})],1)]),e("div",{staticClass:"yes-star",style:{width:t.movieDetailData.width+"px"}},[e("span",[e("van-icon",{attrs:{name:"star"}})],1),e("span",[e("van-icon",{attrs:{name:"star"}})],1),e("span",[e("van-icon",{attrs:{name:"star"}})],1),e("span",[e("van-icon",{attrs:{name:"star"}})],1),e("span",[e("van-icon",{attrs:{name:"star"}})],1)]),e("div",{staticClass:"fl star-score"},[t._v(t._s(t.movieDetailData.rating))])])])]),e("div",{staticClass:"movie-detail-b"},[e("div",{staticClass:"mb-title"},[t._v("电影概括")]),e("p",{staticClass:"m-text",style:{display:t.display}},[t._v(t._s(t.movieDetailData.content))])]),e("div",{staticClass:"arrow",on:{click:t.changeDisplay}},[e("van-icon",{attrs:{name:t.name}})],1)]),e("div",{staticClass:"tab-box"},[e("div",{staticClass:"actor-title"},[e("div",{staticClass:"fl"},[t._v("演职人员")]),e("div",{staticClass:"fr"},[e("span",[t._v("全部")]),e("van-icon",{attrs:{name:"arrow"}})],1)]),e("div",{staticClass:"actor"},[e("div",{staticClass:"actor-box clearfix",style:{width:t.movieActorDetailData.length*t.movieActorDetailData.w+"px"}},t._l(t.movieActorDetailData,(function(a,i){return e("div",{key:i,ref:"actor",refInFor:!0,staticClass:"actor-item"},[e("div",{staticClass:"name-img"},[e("img",{staticClass:"auto-img",attrs:{src:a.image,alt:""}})]),e("div",{staticClass:"name-info"},[e("div",{staticClass:"name one-text"},[t._v(t._s(a.name))]),e("div",{staticClass:"name one-text"},[t._v(t._s(a.nameEn))]),e("div",{staticClass:"name one-text"},[t._v("饰 "+t._s(a.personate))])])])})),0)])])]),e("div",{staticClass:"buy-btn"},[e("button",{on:{click:function(a){return t.buyTick(t.movieDetailData.id)}}},[t._v("选座购票")])])])},s=[],n=(e("a4d3"),e("4de4"),e("a15b"),e("e439"),e("dbb4"),e("b64b"),e("159b"),e("ade3")),o=e("2f62");function r(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function c(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?r(Object(e),!0).forEach((function(a){Object(n["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var l=Object(o["a"])("movieDetailModule"),v=l.mapState,d=l.mapMutations,m={name:"movieDetail",computed:c({},v(["movieDetailData","movieActorDetailData","display","likeActive","name"])),methods:c({},d(["changeDisplay","resetState"]),{back:function(){this.$router.go(-1)},viewVideoDetail:function(t){this.$router.push(t)},buyTick:function(t){this.$router.push({name:"buyMovieTick",query:{id:t}})},likeMovie:function(t){var a=localStorage.getItem("user");if(a){if(a=JSON.parse(a),!a.isLogin)return this.$router.push({name:"login"});var e=localStorage.getItem("likeMovieData");e=e?JSON.parse(e):{};var i=e[a.username];i||(e[a.username]=[]);for(var s=0;s<e[a.username].length;s++)if(e[a.username][s].id==t.id)return void this.$toast("你已经收藏过该电影");this.$store.commit("movieDetailModule/changelikeActive",!0),e[a.username].unshift(t),localStorage.setItem("likeMovieData",JSON.stringify(e)),this.$toast.success("收藏成功")}else this.$router.push({name:"login"})}}),created:function(){var t=this;this.$toast.loading({duration:0,message:"加载中..."}),this.resetState();var a=this.$route.params.id;this.axios({method:"GET",url:"api/movie/detail.api",params:{locationId:365,movieId:a}}).then((function(e){e.data.id=a,e.data.typeInfo=e.data.type.join(" / ");var i=t.$refs.notstar.clientWidth;e.data.width=e.data.rating/10*i,e.data.w=0,t.$store.commit("movieDetailModule/getMovieDetailData",e.data);var s=localStorage.getItem("user"),n=s&&JSON.parse(s).isLogin;if(n){var o=JSON.parse(s).username,r=localStorage.getItem("likeMovieData");r=r?JSON.parse(r):{};var c=r[o];c=c||[];for(var l=0;l<c.length;l++)if(t.movieDetailData.id===c[l].id)return void t.$store.commit("movieDetailModule/changelikeActive",!0);t.$store.commit("movieDetailModule/changelikeActive",!1)}else t.$store.commit("movieDetailModule/changelikeActive",!1)})).catch((function(t){})),this.axios({methods:"GET",url:"api/Movie/MovieCreditsWithTypes.api",params:{movieId:a}}).then((function(a){a.data.types[1].persons.w=0,t.$store.dispatch("movieDetailModule/getMovieActorDetailData",a.data.types[1].persons).then((function(a){t.$toast.clear();var e=t.$refs.actor[0].clientWidth;t.$store.commit("movieDetailModule/changeW",e)})).catch((function(a){t.$toast.clear()}))})).catch((function(t){}))}},u=m,f=(e("2e5e"),e("2877")),p=Object(f["a"])(u,i,s,!1,null,"ecbc9ea2",null);a["default"]=p.exports},"2e5e":function(t,a,e){"use strict";var i=e("d4dd"),s=e.n(i);s.a},"4de4":function(t,a,e){"use strict";var i=e("23e7"),s=e("b727").filter,n=e("d039"),o=e("1dde"),r=o("filter"),c=r&&!n((function(){[].filter.call({length:-1,0:1},(function(t){throw t}))}));i({target:"Array",proto:!0,forced:!r||!c},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},a15b:function(t,a,e){"use strict";var i=e("23e7"),s=e("44ad"),n=e("fc6a"),o=e("b301"),r=[].join,c=s!=Object,l=o("join",",");i({target:"Array",proto:!0,forced:c||l},{join:function(t){return r.call(n(this),void 0===t?",":t)}})},ade3:function(t,a,e){"use strict";function i(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}e.d(a,"a",(function(){return i}))},b64b:function(t,a,e){var i=e("23e7"),s=e("7b0b"),n=e("df75"),o=e("d039"),r=o((function(){n(1)}));i({target:"Object",stat:!0,forced:r},{keys:function(t){return n(s(t))}})},d4dd:function(t,a,e){},dbb4:function(t,a,e){var i=e("23e7"),s=e("83ab"),n=e("56ef"),o=e("fc6a"),r=e("06cf"),c=e("8418");i({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){var a,e,i=o(t),s=r.f,l=n(i),v={},d=0;while(l.length>d)e=s(i,a=l[d++]),void 0!==e&&c(v,a,e);return v}})},e439:function(t,a,e){var i=e("23e7"),s=e("d039"),n=e("fc6a"),o=e("06cf").f,r=e("83ab"),c=s((function(){o(1)})),l=!r||c;i({target:"Object",stat:!0,forced:l,sham:!r},{getOwnPropertyDescriptor:function(t,a){return o(n(t),a)}})}}]);
//# sourceMappingURL=chunk-3dfdbeec.10bc6e3e.js.map